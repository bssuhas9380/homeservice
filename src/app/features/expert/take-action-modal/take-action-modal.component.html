<!-- Take Action Modal -->
<div class="modal-overlay" (click)="onOverlayClick($event)">
  <div class="modal-container">
    <!-- Header -->
    <div class="modal-header">
      <h2 class="modal-title">TAKE ACTION</h2>
      <button class="modal-close" (click)="onClose()">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
          <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
    </div>

    <!-- Body -->
    <div class="modal-body">
      <!-- Service Type & Earnings Row -->
      <div class="info-row">
        <div class="info-card service-type">
          <span class="info-card__label">Service Type</span>
          <div class="info-card__icon">
            <img [src]="serviceIcon" [alt]="booking.serviceName" />
          </div>
          <span class="info-card__name">{{ booking.serviceName }}</span>
        </div>
        <div class="info-card earnings-card">
          <span class="info-card__label">Earnings From This Booking</span>
          <div class="earnings-display">
            <div class="earnings-gift">
              üéÅ
            </div>
            <span class="earnings-amount">‚Çπ{{ booking.totalAmount | number:'1.2-2' }}</span>
          </div>
        </div>
      </div>

      <!-- Schedule & Customer Row -->
      <div class="info-row">
        <div class="info-card schedule-card">
          <div class="info-card__header">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="4" width="18" height="18" rx="2" stroke="currentColor" stroke-width="1.5"/>
              <path d="M3 10H21" stroke="currentColor" stroke-width="1.5"/>
              <path d="M8 2V6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <path d="M16 2V6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
            <span class="info-card__label">Schedule Details</span>
          </div>
          <div class="schedule-details">
            <div class="detail-row">
              <span class="detail-label">Frequency:</span>
              <span class="detail-value">{{ frequency }}</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Start Date:</span>
              <span class="detail-value">{{ startDate }}</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Time Slot:</span>
              <span class="detail-value">{{ timeSlot }}</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Duration per session:</span>
              <span class="detail-value">{{ duration }}</span>
            </div>
          </div>
        </div>

        <div class="info-card customer-card">
          <div class="customer-section">
            <div class="info-card__header">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path d="M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z" stroke="currentColor" stroke-width="1.5"/>
                <path d="M20 21C20 16.5817 16.4183 13 12 13C7.58172 13 4 16.5817 4 21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              </svg>
              <span class="info-card__label">Customer Name</span>
            </div>
            <span class="customer-name">{{ customerName }}</span>
          </div>

          <div class="address-section">
            <div class="info-card__header">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path d="M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 5 7 1 12 1C17 1 21 5 21 10Z" stroke="currentColor" stroke-width="1.5"/>
                <circle cx="12" cy="10" r="3" stroke="currentColor" stroke-width="1.5"/>
              </svg>
              <span class="info-card__label">Service Address</span>
            </div>
            <span class="address-text">{{ serviceAddress }}</span>
          </div>
        </div>
      </div>

      <!-- Status display for non-pending bookings -->
      @if (!isPending) {
        <div class="status-banner" [class]="'status-' + booking.status.toLowerCase()">
          <span>This booking has been <strong>{{ statusLabel }}</strong></span>
        </div>
      }
    </div>

    <!-- Footer - Action Buttons (only for PENDING) -->
    @if (isPending) {
      <div class="modal-footer">
        <button class="btn-reject" (click)="onReject()">REJECT BOOKING</button>
        <button class="btn-accept" (click)="onAccept()">ACCEPT BOOKING</button>
      </div>
    }
  </div>
</div>

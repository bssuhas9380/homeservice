<!-- Expert Registration Page -->
<div class="register-page">
  <!-- Header -->
  <header class="header">
    <div class="header__container">
      <a routerLink="/" class="header__logo" aria-label="HouseMate Home">
        <div class="header__logo-icon">
          <span>H</span>
        </div>
        <span class="header__logo-text">HouseMate</span>
      </a>
      <nav class="header__nav">
        <a routerLink="/login" [queryParams]="{role: 'customer'}" class="header__nav-link">Customer Login</a>
        <a routerLink="/login" [queryParams]="{role: 'expert'}" class="header__nav-link">Expert Login</a>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <main class="register-content">
    <!-- Title Section -->
    <div class="register-header">
      <span class="register-header__subtitle">New User?</span>
      <h1 class="register-header__title">REGISTER NOW!</h1>
      <p class="register-header__description">
        To connect with verified, trained home-service experts for ASAP or scheduled services. Fast, transparent, and reliable.
      </p>
    </div>

    <!-- Registration Container -->
    <div class="register-container">
      <!-- Stepper Sidebar -->
      <aside class="stepper">
        <div class="stepper__steps">
          <!-- Step 1 -->
          <div 
            class="stepper__step"
            [class.active]="currentStep === 1"
            [class.completed]="isStepCompleted(1)"
            (click)="goToStep(1)"
          >
            <div class="stepper__step-indicator">
              @if (isStepCompleted(1)) {
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M5 12L10 17L20 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              } @else {
                <span>1</span>
              }
            </div>
            <div class="stepper__step-content">
              <span class="stepper__step-title">Personal</span>
              <span class="stepper__step-subtitle">Information</span>
            </div>
          </div>

          <div class="stepper__line" [class.completed]="isStepCompleted(1)"></div>

          <!-- Step 2 -->
          <div 
            class="stepper__step"
            [class.active]="currentStep === 2"
            [class.completed]="isStepCompleted(2)"
            (click)="goToStep(2)"
          >
            <div class="stepper__step-indicator">
              @if (isStepCompleted(2)) {
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M5 12L10 17L20 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              } @else {
                <span>2</span>
              }
            </div>
            <div class="stepper__step-content">
              <span class="stepper__step-title">Service</span>
              <span class="stepper__step-subtitle">Profile</span>
            </div>
          </div>

          <div class="stepper__line" [class.completed]="isStepCompleted(2)"></div>

          <!-- Step 3 -->
          <div 
            class="stepper__step"
            [class.active]="currentStep === 3"
          >
            <div class="stepper__step-indicator">
              <span>3</span>
            </div>
            <div class="stepper__step-content">
              <span class="stepper__step-title">ID</span>
              <span class="stepper__step-subtitle">Verification</span>
            </div>
          </div>
        </div>
      </aside>

      <!-- Form Content -->
      <div class="form-content">
        <!-- Step 1: Personal Information -->
        @if (currentStep === 1) {
          <div class="form-step">
            <!-- Info Banner -->
            <div class="info-banner">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="12" r="10" stroke="#0D436B" stroke-width="2"/>
                <path d="M12 8V12M12 16H12.01" stroke="#0D436B" stroke-width="2" stroke-linecap="round"/>
              </svg>
              <span>Ensure all information matches your identity documents for smooth verification.</span>
            </div>

            <form [formGroup]="personalInfoForm" class="form">
              <!-- Full Name -->
              <div class="form-group full-width">
                <label class="form-label">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  Full Name <span class="required">*</span>
                </label>
                <input 
                  type="text" 
                  formControlName="fullName"
                  class="form-input"
                  placeholder="Enter your full name as per ID"
                />
              </div>

              <!-- Mobile Number & Date of Birth -->
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M22 16.92V19.92C22 20.48 21.56 20.93 21 20.99C14.38 21.73 8.27 18.73 4.27 14.73C0.27 10.73 -2.73 4.62 2.01 2.01C2.07 1.45 2.52 1.01 3.08 1.01H6.08C6.53 1.01 6.93 1.32 7.05 1.76C7.54 3.68 8.32 5.51 9.36 7.18L7.92 8.62C9.55 11.84 12.16 14.45 15.38 16.08L16.82 14.64C18.49 15.68 20.32 16.46 22.24 16.95C22.68 17.07 22.99 17.47 22.99 17.92L22 16.92Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Mobile Number <span class="required">*</span>
                  </label>
                  <div class="input-with-prefix">
                    <span class="input-prefix">+91</span>
                    <input 
                      type="tel" 
                      formControlName="mobileNumber"
                      class="form-input"
                      placeholder="9876543210"
                    />
                  </div>
                </div>

                <div class="form-group">
                  <label class="form-label">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <rect x="3" y="4" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2"/>
                      <path d="M16 2V6M8 2V6M3 10H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    Date of Birth <span class="required">*</span>
                  </label>
                  <input 
                    type="date" 
                    formControlName="dateOfBirth"
                    class="form-input"
                  />
                </div>
              </div>

              <!-- Complete Address -->
              <div class="form-group full-width">
                <label class="form-label">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.364 3.63604C20.0518 5.32387 21 7.61305 21 10Z" stroke="currentColor" stroke-width="2"/>
                    <circle cx="12" cy="10" r="3" stroke="currentColor" stroke-width="2"/>
                  </svg>
                  Complete Address <span class="required">*</span>
                </label>
                <input 
                  type="text" 
                  formControlName="address"
                  class="form-input"
                  placeholder="House/Flat No., Building Name, Street, Landmark"
                />
              </div>

              <!-- City & State -->
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">City <span class="required">*</span></label>
                  <input 
                    type="text" 
                    formControlName="city"
                    class="form-input"
                    placeholder="e.g., Mumbai"
                  />
                </div>

                <div class="form-group">
                  <label class="form-label">State <span class="required">*</span></label>
                  <input 
                    type="text" 
                    formControlName="state"
                    class="form-input"
                    placeholder="e.g., Maharashtra"
                  />
                </div>
              </div>

              <!-- PIN Code -->
              <div class="form-group">
                <label class="form-label">PIN Code <span class="required">*</span></label>
                <input 
                  type="text" 
                  formControlName="pinCode"
                  class="form-input"
                  placeholder="400001"
                  maxlength="6"
                />
              </div>
            </form>

            <!-- Actions -->
            <div class="form-actions">
              <button type="button" class="btn-primary" (click)="nextStep()" [disabled]="!personalInfoForm.valid">
                NEXT
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>

            <a routerLink="/" class="link-home">Back to home</a>
          </div>
        }

        <!-- Step 2: Service Profile -->
        @if (currentStep === 2) {
          <div class="form-step">
            <form [formGroup]="serviceProfileForm" class="form">
              <!-- Services You Offer -->
              <div class="form-section">
                <h3 class="form-section__title">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15M9 5C9 6.10457 9.89543 7 11 7H13C14.1046 7 15 6.10457 15 5M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                  Services You Offer <span class="required">*</span>
                </h3>
                <p class="form-section__subtitle">Select all services you can provide</p>
                <div class="services-grid">
                  @for (service of services; track service.id) {
                    <button 
                      type="button"
                      class="service-card"
                      [class.selected]="service.selected"
                      (click)="toggleService(service)"
                    >
                      <div class="service-card__icon">
                        <!-- Placeholder icon -->
                        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                      </div>
                      <span class="service-card__name">{{ service.name }}</span>
                    </button>
                  }
                </div>
              </div>

              <!-- Total Experience -->
              <div class="form-section">
                <h3 class="form-section__title">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                    <path d="M12 6V12L16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                  Total Experience <span class="required">*</span>
                </h3>
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label-small">Years</label>
                    <select formControlName="experienceYears" class="form-select">
                      <option value="">Select years</option>
                      @for (year of experienceYears; track year) {
                        <option [value]="year">{{ year }}</option>
                      }
                    </select>
                  </div>
                  <div class="form-group">
                    <label class="form-label-small">Months</label>
                    <select formControlName="experienceMonths" class="form-select">
                      <option value="">Select months</option>
                      @for (month of experienceMonths; track month) {
                        <option [value]="month">{{ month }}</option>
                      }
                    </select>
                  </div>
                </div>
              </div>

              <!-- Specializations -->
              <div class="form-section">
                <h3 class="form-section__title">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  Specializations
                </h3>
                <p class="form-section__subtitle">Describe any specific skills or areas where you excel (optional)</p>
                <textarea 
                  formControlName="specializations"
                  class="form-textarea"
                  placeholder="E.g., Expert in deep cleaning, Experienced with traditional Indian cooking, Certified in first aid for elderly care..."
                  rows="3"
                ></textarea>
              </div>

              <!-- Language Proficiency -->
              <div class="form-section">
                <h3 class="form-section__title">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M2 12H22M12 2C14.5013 4.73835 15.9228 8.29203 16 12C15.9228 15.708 14.5013 19.2616 12 22C9.49872 19.2616 8.07725 15.708 8 12C8.07725 8.29203 9.49872 4.73835 12 2Z" stroke="currentColor" stroke-width="2"/>
                  </svg>
                  Language Proficiency <span class="required">*</span>
                </h3>
                <p class="form-section__subtitle">Select all languages you can communicate in</p>
                <div class="languages-grid">
                  @for (language of languages; track language.name) {
                    <button 
                      type="button"
                      class="language-chip"
                      [class.selected]="language.selected"
                      (click)="toggleLanguage(language)"
                    >
                      <span class="checkbox">
                        @if (language.selected) {
                          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M5 12L10 17L20 7" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                          </svg>
                        }
                      </span>
                      {{ language.name }}
                    </button>
                  }
                </div>
              </div>

              <!-- Education Level -->
              <div class="form-section">
                <h3 class="form-section__title">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M22 10V16M2 10L12 5L22 10L12 15L2 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M6 12V17C6 17 9 20 12 20C15 20 18 17 18 17V12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  Education Level <span class="required">*</span>
                </h3>
                <div class="education-grid">
                  @for (level of educationLevels; track level) {
                    <button 
                      type="button"
                      class="education-chip"
                      [class.selected]="selectedEducation === level"
                      (click)="selectEducation(level)"
                    >
                      {{ level }}
                    </button>
                  }
                </div>
              </div>

              <!-- Availability -->
              <div class="form-section">
                <h3 class="form-section__title">Availability <span class="required">*</span></h3>
                <div class="availability-options">
                  @for (option of availabilityOptions; track option.value) {
                    <button 
                      type="button"
                      class="availability-card"
                      [class.selected]="selectedAvailability === option.value"
                      (click)="selectAvailability(option.value)"
                    >
                      <span class="availability-card__label">{{ option.label }}</span>
                      <span class="availability-card__description">{{ option.description }}</span>
                    </button>
                  }
                </div>
              </div>

              <!-- Expected Hourly Rate -->
              <div class="form-section">
                <h3 class="form-section__title">Expected Hourly Rate <span class="required">*</span></h3>
                <div class="input-with-suffix">
                  <span class="input-prefix">â‚¹</span>
                  <input 
                    type="number" 
                    formControlName="hourlyRate"
                    class="form-input"
                    placeholder="Enter amount"
                  />
                  <span class="input-suffix">per hour</span>
                </div>
                <p class="form-hint">Set a competitive rate based on your experience and market standards</p>
              </div>

              <!-- About Yourself -->
              <div class="form-section">
                <h3 class="form-section__title">About Yourself (Optional)</h3>
                <p class="form-section__subtitle">Write a brief introduction about yourself and your work approach</p>
                <textarea 
                  formControlName="aboutYourself"
                  class="form-textarea"
                  placeholder="Tell customers about your experience, work ethic, and what makes you a great service provider..."
                  rows="4"
                ></textarea>
              </div>

              <!-- Verification Notice -->
              <div class="verification-notice">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="#0D436B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <div>
                  <strong>Profile Verification:</strong>
                  <p>Your profile will be verified by our team within 24-48 hours. Accurate information helps you get more job opportunities and build trust with customers.</p>
                </div>
              </div>
            </form>

            <!-- Actions -->
            <div class="form-actions form-actions--split">
              <button type="button" class="btn-secondary" (click)="prevStep()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M19 12H5M5 12L12 19M5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                PREVIOUS
              </button>
              <button type="button" class="btn-primary" (click)="nextStep()">
                NEXT
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
          </div>
        }

        <!-- Step 3: ID Verification -->
        @if (currentStep === 3) {
          <div class="form-step">
            <!-- Info Banner -->
            <div class="info-banner">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 12L11 14L15 10M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" stroke="#0D436B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>ID verification helps build trust with customers and is required to receive bookings.</span>
            </div>

            <form [formGroup]="idVerificationForm" class="form">
              <!-- ID Type Selection -->
              <div class="form-section">
                <h3 class="form-section__title">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="3" y="4" width="18" height="16" rx="2" stroke="currentColor" stroke-width="2"/>
                    <circle cx="9" cy="10" r="2" stroke="currentColor" stroke-width="2"/>
                    <path d="M15 8H18M15 12H18M7 16H17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                  Select ID Type <span class="required">*</span>
                </h3>
                <div class="id-type-grid">
                  @for (idType of idTypes; track idType.value) {
                    <button 
                      type="button"
                      class="id-type-card"
                      [class.selected]="selectedIdType === idType.value"
                      (click)="selectIdType(idType.value)"
                    >
                      <div class="id-type-card__icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <rect x="3" y="4" width="18" height="16" rx="2" stroke="currentColor" stroke-width="2"/>
                          <circle cx="9" cy="10" r="2" stroke="currentColor" stroke-width="2"/>
                          <path d="M15 8H18M15 12H18M7 16H17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                      </div>
                      <span class="id-type-card__name">{{ idType.label }}</span>
                    </button>
                  }
                </div>
              </div>

              <!-- ID Number -->
              <div class="form-section">
                <h3 class="form-section__title">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M7 20H21V18C21 16.3431 19.6569 15 18 15H10C8.34315 15 7 16.3431 7 18V20Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <circle cx="14" cy="8" r="4" stroke="currentColor" stroke-width="2"/>
                    <path d="M3 8H7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <path d="M3 12H5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <path d="M3 16H6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                  ID Number <span class="required">*</span>
                </h3>
                <input 
                  type="text" 
                  formControlName="idNumber"
                  class="form-input"
                  [placeholder]="getIdPlaceholder()"
                />
                <p class="form-hint">Enter the {{ selectedIdType || 'ID' }} number exactly as it appears on your document</p>
              </div>

              <!-- Document Upload -->
              <div class="form-section">
                <h3 class="form-section__title">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 15V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V15M17 8L12 3M12 3L7 8M12 3V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  Upload ID Document <span class="required">*</span>
                </h3>
                <p class="form-section__subtitle">Upload a clear photo of your ID (front side)</p>
                
                <div class="upload-area" (click)="triggerFileUpload()" (dragover)="onDragOver($event)" (drop)="onFileDrop($event)">
                  @if (!uploadedFileName) {
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M12 16V8M12 8L9 11M12 8L15 11" stroke="#0D436B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M20.39 18.39A5 5 0 0018 9h-1.26A8 8 0 103 16.3" stroke="#0D436B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span class="upload-area__text">Drag and drop your file here, or <span class="link">browse</span></span>
                    <span class="upload-area__hint">Supported formats: JPG, PNG, PDF (Max 5MB)</span>
                  } @else {
                    <div class="uploaded-file">
                      <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14 2H6C4.89543 2 4 2.89543 4 4V20C4 21.1046 4.89543 22 6 22H18C19.1046 22 20 21.1046 20 20V8M14 2L20 8M14 2V8H20" stroke="#0D436B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M9 13L11 15L15 11" stroke="#0D436B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      <span class="uploaded-file__name">{{ uploadedFileName }}</span>
                      <button type="button" class="uploaded-file__remove" (click)="removeUploadedFile($event)">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                      </button>
                    </div>
                  }
                  <input 
                    type="file" 
                    #fileInput
                    class="file-input"
                    accept=".jpg,.jpeg,.png,.pdf"
                    (change)="onFileSelected($event)"
                  />
                </div>
              </div>

              <!-- Terms Agreement -->
              <div class="terms-section">
                <label class="checkbox-label">
                  <input type="checkbox" [(ngModel)]="termsAccepted" [ngModelOptions]="{standalone: true}" />
                  <span class="checkbox-custom">
                    @if (termsAccepted) {
                      <svg width="12" height="12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5 12L10 17L20 7" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                    }
                  </span>
                  <span class="checkbox-text">
                    I confirm that all information provided is accurate and I agree to the 
                    <a href="#" class="link">Terms of Service</a> and 
                    <a href="#" class="link">Privacy Policy</a>
                  </span>
                </label>
              </div>

              <!-- Verification Notice -->
              <div class="verification-notice verification-notice--success">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <div>
                  <strong>Almost Done!</strong>
                  <p>After submission, our team will verify your details within 24-48 hours. You'll receive a notification once approved.</p>
                </div>
              </div>
            </form>

            <!-- Actions -->
            <div class="form-actions form-actions--split">
              <button type="button" class="btn-secondary" (click)="prevStep()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M19 12H5M5 12L12 19M5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                PREVIOUS
              </button>
              <button type="button" class="btn-primary btn-primary--success" (click)="onSubmit()" [disabled]="!canSubmit()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                SUBMIT FOR VERIFICATION
              </button>
            </div>

            <a routerLink="/" class="link-home">Back to home</a>
          </div>
        }
      </div>
    </div>
  </main>
</div>

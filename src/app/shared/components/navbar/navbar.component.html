<!-- Shared Navbar Component -->
<header class="navbar">
  <div class="navbar__container">
    <!-- Logo -->
    <a routerLink="/" class="navbar__logo">
      <div class="navbar__logo-icon">
        <span>H</span>
      </div>
      <span class="navbar__logo-text">HouseMate</span>
    </a>
    
    <!-- Navigation -->
    <nav class="navbar__nav">
      @if (pageType === 'customer') {
        <a routerLink="/customer/book-service" class="navbar__nav-link">Services</a>
        <a routerLink="/customer/bookings" class="navbar__nav-link">My Bookings</a>
      } @else if (pageType === 'expert') {
        <a routerLink="/expert/dashboard" class="navbar__nav-link">Dashboard</a>
        <a routerLink="/expert/bookings" class="navbar__nav-link">My Jobs</a>
      } @else if (pageType === 'admin') {
        <a routerLink="/admin/dashboard" class="navbar__nav-link">Dashboard</a>
        <a routerLink="/admin/users" class="navbar__nav-link">Users</a>
      }
      
      <!-- User Menu -->
      <div class="user-menu">
        <button class="user-menu__trigger" (click)="toggleUserMenu(); $event.stopPropagation()">
          <div class="user-menu__avatar">
            <img [src]="userAvatar()" alt="User Avatar" />
          </div>
          <span class="user-menu__name">{{ userName() }}</span>
          <svg class="user-menu__arrow" [class.rotated]="isUserMenuOpen()" width="12" height="12" viewBox="0 0 12 12" fill="none">
            <path d="M2.5 4.5L6 8L9.5 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        
        @if (isUserMenuOpen()) {
          <div class="user-menu__dropdown">
            <a routerLink="/customer/profile" class="user-menu__item">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path d="M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z" stroke="currentColor" stroke-width="1.5"/>
                <path d="M20 21C20 16.5817 16.4183 13 12 13C7.58172 13 4 16.5817 4 21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              </svg>
              My Profile
            </a>
            <a routerLink="/customer/bookings" class="user-menu__item">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <rect x="3" y="4" width="18" height="18" rx="2" stroke="currentColor" stroke-width="1.5"/>
                <path d="M3 10H21" stroke="currentColor" stroke-width="1.5"/>
                <path d="M8 2V6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                <path d="M16 2V6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              </svg>
              My Bookings
            </a>
            <div class="user-menu__divider"></div>
            <button class="user-menu__item user-menu__item--logout" (click)="logout()">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path d="M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M16 17L21 12L16 7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M21 12H9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Logout
            </button>
          </div>
        }
      </div>
    </nav>
  </div>
</header>
